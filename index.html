<!doctype html>
<html lang="es-MX">

<head>
    <meta charset="utf-8">
    <title>ðŸŽ¨ Dibujitos</title>
    <style>
        * {
            font-family: sans-serif;
        }

        body,
        html {
            background-color: midnightblue;
            color: azure;
            height: 100%;
            border: 0;
            margin: 0;
            padding: 0;
        }

        svg#bases {
            display: none;
        }

        svg#lienzo {
            width: 100%;
            height: 70%;
            background-color: white;
        }
    </style>
</head>

<body>
    <h1>ðŸŽ¨ Dibujitos</h1>
    <button onclick="poncirc()">âšª</button>
    <input id='color' type="color">
    Radio: <input id='radio' type="number" value="110">
    <svg id="bases">
        <circle id="c" fill="gray" cx="100" cy="100" r="110"></circle>
    </svg>
    <svg id="lienzo" onmousemove="perseguir(event)"></svg>
    <script>
        const lienzo = document.getElementById('lienzo')
        let seleccionado = null
        const poncirc = () => {
            let circulo = document.getElementById('c').cloneNode()
            circulo.id = 'elem-' + Math.random()
            circulo.setAttribute('cx', lienzo.width.baseVal.value * Math.random())
            circulo.setAttribute('onclick', 'seleccion(this)')
            circulo.setAttribute('fill', document.getElementById('color').value)
            circulo.setAttribute('r', document.getElementById('radio').value)
            lienzo.append(circulo)
        }
        const seleccion = (elem) => {
            if (!seleccionado)
                seleccionado = elem
            else
                seleccionado = null
        }
        const perseguir = (suceso) => {
            if (seleccionado) {
                seleccionado.setAttribute('cx', suceso.offsetX)
                seleccionado.setAttribute('cy', suceso.offsetY)
            }
        }
    </script>
</body>

</html>